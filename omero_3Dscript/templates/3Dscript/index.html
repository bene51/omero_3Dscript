<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>3DScript</title>
  <script src="{% static '3Dscript/3rdparty/jquery-ui-1.12.1/external/jquery/jquery.js' %}"></script>
  <script src="{% static '3Dscript/3rdparty/jquery-ui-1.12.1/jquery-ui.min.js' %}"></script>
  <link rel="stylesheet" href="{% static '3Dscript/3rdparty/jquery-ui-1.12.1/jquery-ui.css' %}">
  <link rel="stylesheet" href="{% static '3Dscript/css/3Dscript.css' %}">
  <link rel="stylesheet" href="{% static '3Dscript/css/dialogs.css' %}">
</head>


<body>
  <div id="wrapper">

    <div id="header">
      <span id="headertxt">{{ image_name }}</span>
      <button id="imagebutton"></button>
    </div>
    <div id="logo">
      <img src="{% static '3Dscript/images/3DscriptLogo.png' %}">
      <div>
        <a target="_blank" href="https://www.nature.com/articles/s41592-019-0359-1"><svg class="" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="quote-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"></path></svg> Cite</a>
        <a target="_blank" href="https://github.com/bene51/omero_3Dscript"><svg class="" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg=""><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> Contribute</a>

	<a target="_blank" href="https://github.com/bene51/3Dscript/wiki"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="info" class="svg-inline--fa fa-info fa-w-6" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="currentColor" d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"></path></svg> Help</a>
      </div>
    </div>
    <a id="ref" target="_blank" href="https://www.nature.com/articles/s41592-019-0359-1">B. Schmid <i>et al</i>: <b>3Dscript: animating 3D/4D microscopy data using a natural-language-based syntax</b> <i>Nat meth</i> 2019</a>

    <div id="content">
      <div id="videoContainer">
      </div>

      <div id="accordion">
        <div id="progress">
          <div id="bar"></div>
          <div id="barlabel"> </div>
        </div>
        <div id="backtrace"></div>
      </div>

      <textarea id="script" name="script" rows="15">
At frame 0 zoom by a factor of 0.9
From frame 0 to frame 200 rotate by 360 degrees horizontally</textarea>
      <div id="buttons">
        <button name="render-button" id="render-button" value="">Render</button>
        <button name="cancel-button" id="cancel-button" value="">Cancel</button>
        <button name="settings" id="settings" value="">Settings</button>
	<button name="playall" id="playall" value="">Play all</button>
      </div>

    </div> <!-- content -->
    <div id="footer">
    &copy;Benjamin Schmid, Optical Imaging Centre Erlangen, University of Erlangen-Nuremberg
    </div>
  </div>


  <!-- new image dialog -->
  <div id="dialog-newimage" title="New image">
    <p class="validateTipsNewImage"> </p>
    <p>Open new images to be rendered. You can</p>
    <ul>
	    <li>enter the OMERO IDs of one or more images,<br>
            separated by comma.</li>
        <li>enter the OMERO IDs of one or more datasets,<br>
            separated by comma.</li>
        <li>enter a link to images/datasets, by selecting<br>
            them in the webclient, click the link in the <br>
            right panel, copy it and paste it here.</li>
    </ul>
    <form>
      <input type="text" name="imageId" id="imageId" placeholder="Image/Dataset IDs or URL" value="{{imageId}}" class="ui-widget-content ui-corner-all">
    </form>
  </div>

  <!-- settings dialog -->
  <div id="dialog-settings" title="Settings">
    <p class="validateTips"> </p>
    <form>
      <fieldset>
        <legend>Output Size</legend>
        <input type="number" name="tgtWidth" id="tgtWidth" value="600" class="number ui-widget-content ui-corner-all">
        <span class="leftmargin rightmargin">x</span>
        <input type="number" name="tgtHeight" id="tgtHeight" value="450" class="number ui-widget-content ui-corner-all"><br>
        <!--input type="password" name="password" id="password" value="xxxxxxx" class="text ui-widget-content ui-corner-all"-->
        <!-- Allow form submission with keyboard without duplicating the dialog button -->
        <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
      </fieldset>
    </form>
  </div>

  <!-- queue dialog -->
  <div id="dialog-queue" title="Other processes are currently queued">
    <div id="imagecontainer">
      <img width=800 height=600 src="{% static '3Dscript/images/queue.png' %}">
      <svg id="bubbleoverlay" width="800" height="600">
        <g id="bgroup">
  background-color: rgba(76, 175, 80, 1);
          <ellipse id="bubble" cx="0" cy="0" rx="40" ry="25" stroke-width="0" fill="rgba(76, 175, 80, 1)"></ellipse>
          <text id="blabel" x="0" y="10" fill="white" text-anchor="middle">3</text>
        </g>
      </svg>
      <div id="imageoverlay">
        You are number X in line
      </div>
    </div>
  </div>

  <script>
    var BASE_3DSCRIPT_URL = "{% url '3Dscript_index' %}";
  </script>
  <script src="{% static '3Dscript/3rdparty/ome.csrf.js' %}"></script>
  <script src="{% static '3Dscript/3rdparty/textarea-caret-position.js' %}"></script>
  <script src="{% static '3Dscript/3rdparty/svg.min.js' %}"></script>
  <script src="{% static '3Dscript/3rdparty/underscore-1.9.1.min.js' %}"></script>
  <script src="{% static '3Dscript/3rdparty/backbone-1.4.0.min.js' %}"></script>
  <script src="{% static '3Dscript/js/settings-dialog.js' %}"></script>
  <script src="{% static '3Dscript/js/image-dialog.js' %}"></script>
  <script src="{% static '3Dscript/js/queue.js' %}"></script>
  <script src="{% static '3Dscript/js/autocomplete.js' %}"></script>
  <script src="{% static '3Dscript/js/autogrow.js' %}"></script>
  <script src="{% static '3Dscript/js/3Dscript.js' %}"></script>
</body>
</html>
